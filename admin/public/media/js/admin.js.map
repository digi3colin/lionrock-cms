{"version":3,"file":"admin.js","names":["setupNavMenu","menuToggle","document","getElementById","menu","menuClose","open","body","classList","add","close","remove","style","paddingRight","addEventListener","ev","preventDefault","stopPropagation","contains","setupScrollHeader","header","querySelector","sy","window","scrollY","setupScheduler","modalForm","querySelectorAll","forEach","el","batchId","getAttribute","targetURL","concat","setAttribute","currentTarget","v","value","replace","fn","readyState"],"sources":["../../../public_source/media/js/admin.js"],"sourcesContent":["function setupNavMenu(){\n//open navigation menu\n  const menuToggle = document.getElementById('nav-menu-toggle');\n  const menu = document.getElementById('nav-menu');\n  const menuClose = document.getElementById('nav-menu-close');\n\n  if(menuToggle && menu){\n    const open = () =>{\n      document.body.classList.add('modal-open', 'nav-menu-open');\n    }\n\n    const close = () => {\n      document.body.classList.remove('modal-open', 'nav-menu-open');\n      document.body.style.paddingRight = \"\";\n    }\n\n    if(menuClose){\n      menuClose.addEventListener('click', ev => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        close();\n      })\n    }\n\n    menuToggle.addEventListener('click', ev =>{\n      ev.preventDefault();\n      ev.stopPropagation();\n      document.body.classList.contains('nav-menu-open') ? close() : open();\n    })\n  }\n}\n\nfunction setupScrollHeader(){\n  // header scroll\n  const header = document.querySelector('body>header');\n  if(header){\n    document.addEventListener('scroll', () => {\n      const sy = window.scrollY;\n      if(sy > 100){\n        if(header.classList.contains('active'))return;\n        header.classList.add('active');\n      }else{\n        if(!header.classList.contains('active'))return;\n        header.classList.remove('active');\n      }\n    });\n  }\n}\n\nfunction setupScheduler(){\n  const modalForm = document.querySelector('#scheduleModal form')\n  if(!modalForm)return;\n  document.querySelectorAll('.btn-schedule').forEach(el => {\n    const batchId = el.getAttribute('data-id');\n    const targetURL = `/admin/email_batches/${batchId}`;\n    modalForm.setAttribute('action', targetURL);\n  });\n\n  document.querySelector('#inputScheduleDate').addEventListener('change', ev => {\n    const el = ev.currentTarget;\n    const v = el.value.replace('T', ' ');\n    modalForm.querySelector('input[name=\":date\"]').setAttribute('value', `${v}+08:00`);\n  })\n}\n\n(fn => (document.readyState !== 'loading') ? fn() : document.addEventListener('DOMContentLoaded', fn))(()=>{\n  setupScrollHeader();\n  setupNavMenu();\n  setupScheduler();\n})\n"],"mappings":"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"}